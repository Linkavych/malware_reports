#!/usr/bin/env python3
# A custom base64 decoding program
# author: @linkavych
# date: 2022-08-27
import sys
import base64

new_b64 = "CDEFGHIJKLMNOPQRSTUVWXYZABcdefghijklmnopqrstuvwxyzab0123456789+/"
std_b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"


def b64_encode(data: str):
    data = base64.b64encode(data.encode())
    data = str(data)[2:-1].translate(str(data)[2:-1].maketrans(std_b64, new_b64))
    return data


def b64_decode(data: str):
    '''
    Decode the base64 encoded string
    '''
    data = str(data).translate(str(data).maketrans(new_b64, std_b64))

    return base64.b64decode(data).decode()

if __name__ == '__main__':
    encoded = b64_encode(sys.argv[1])
    decoded = b64_decode(encoded)
    print(f"Encoded: {encoded}")
    print(f"Decoded: {decoded}")
